###############
### Options ###
###############

# Address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0
# Increase scrollback buffer size from 2000 to 50000 lines
set -g history-limit 50000
# Increase tmux messages display duration from 750ms to 4s
set -g display-time 4000
# Refresh 'status-left' and 'status-right' more often, from every 15s to 5s
set -g status-interval 5
# Emacs key bindings in tmux command prompt (prefix + :) are better than
# vi keys, even for vim users
set -g status-keys emacs
# Focus events enabled for terminals that support them
set -g focus-events on
# Super useful when using "grouped sessions" and multi-monitor setup
setw -g aggressive-resize on
# fix $TERM
set-option -sa terminal-overrides ',alacritty:RGB'
# Don't detach on killing session
set-option -g detach-on-destroy off
# disable mouse
set -g mouse off
# copy mode
set-window-option -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'
# Time format
set -g status-right "%a, %d %b - %I:%M %p"
set -g status-left-length 20

##############
### Colors ###
##############

thm_bg="#1e1e2e"
thm_fg="#cdd6f4"
thm_cyan="#89dceb"
thm_black="#181825"
thm_gray="#313244"
thm_black4="#585b70"
set -g status-fg $thm_fg
set -g status-bg $thm_black
set -g pane-border-style "fg=${thm_gray}"
set -g pane-active-border-style "fg=${thm_gray}"
set -g message-style "fg=${thm_cyan},bg=${thm_gray},align=centre"
set -g message-command-style "fg=${thm_cyan},bg=${thm_gray},align=centre"

################
### Bindings ###
################

# Prefix
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix
# Navigating windows
unbind-key n
unbind-key p
bind C-p previous-window
bind C-n next-window
bind a last-window
# Sessions
unbind-key \;
bind-key \; switch-client -l
bind-key n new-session -c ~
# reload tmux config
bind-key R run-shell " \
        tmux source-file ~/.config/tmux/tmux.conf > /dev/null; \
        tmux display-message 'Sourced ~/.config/tmux/tmux.conf!'"
# Pans
bind-key C-h select-pane -L
bind-key C-j select-pane -D
bind-key C-k select-pane -U
bind-key C-l select-pane -R

bind-key -r h resize-pane -L 5
bind-key -r j resize-pane -D 5
bind-key -r k resize-pane -U 5
bind-key -r l resize-pane -R 5

unbind '%'
unbind '"'
bind-key "\\" split-window -h
bind-key "-" split-window -v
